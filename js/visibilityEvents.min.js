/**
 * @file This library adds 4 new events to any element in a page: show, hide, showpart and hidepart.
 * @author José Manuel Alarcón - www.JASoft.org - www.campusMVP.es
 * @version 3.0
 * @license MIT
 */
!function(){function o(e){window.addEventListener("load",e),window.addEventListener("resize",e),window.addEventListener("scroll",e)}function i(e){window.removeEventListener("load",e),window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}function r(e){var n=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,i=e.getBoundingClientRect();return 0<=i.top&&i.bottom<=t&&0<=i.left&&i.right<=n}function a(e){var n=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,i=e.getBoundingClientRect(),o=0<=i.left&&i.left<=n||0<=i.right&&i.right<=n,r=0<=i.top&&i.top<=t||0<=i.bottom&&i.bottom<=t;return o&&r}function d(n,t){var i=a(n);function e(){var e=a(n);e!=i&&(i=e,"function"==typeof t&&t(e,n))}return o(e),e}function s(n,t){var i=r(n);function e(){var e=r(n);e!=i&&(i=e,"function"==typeof t&&t(e,n))}return o(e),e}var c=[],l=[],h=[],u=[];function t(e,n,t){var i=new CustomEvent(e,{detail:{visible:n},bubbles:!0,cancelable:!1});t.dispatchEvent(i)}function f(e,n){e&&t("show",e,n)}function w(e,n){e||t("hide",e,n)}function v(e,n){e&&t("showpart",e,n)}function p(e,n){e||t("hidepart",e,n)}var L=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(e,n,t){switch(L.call(this,e,n,t),e.toLowerCase()){case"show":!function(e){-1==c.indexOf(e)&&(e.onShowInternalListener=s(e,f)),c.push(e)}(this);break;case"hide":!function(e){-1==l.indexOf(e)&&(e.onHideInternalListener=d(e,w)),l.push(e)}(this);break;case"showpart":!function(e){-1==h.indexOf(e)&&(e.onShowpartInternalListener=d(e,v)),h.push(e)}(this);break;case"hidepart":!function(e){-1==u.indexOf(e)&&(e.onHidepartInternalListener=s(e,p)),u.push(e)}(this)}};var m=EventTarget.prototype.removeEventListener;EventTarget.prototype.removeEventListener=function(e,n,t){switch(m.call(this,e,n,t),e.toLowerCase()){case"show":!function(e){var n=c.indexOf(e);-1!=n&&(c.splice(n,1),-1==c.indexOf(e)&&(i(e.onShowInternalListener),delete e.onShowInternalListener))}(this);break;case"hide":!function(e){var n=l.indexOf(e);-1!=n&&(l.splice(n,1),-1==l.indexOf(e)&&(i(e.onHideInternalListener),delete e.onHideInternalListener))}(this);break;case"showpart":!function(e){var n=h.indexOf(e);-1!=n&&(h.splice(n,1),-1==h.indexOf(e)&&(i(e.onShowpartInternalListener),delete e.onShowpartInternalListener))}(this);break;case"hidepart":!function(e){var n=u.indexOf(e);-1!=n&&(u.splice(n,1),-1==u.indexOf(e)&&(i(e.onHidepartInternalListener),delete e.onHidepartInternalListener))}(this)}}}();
